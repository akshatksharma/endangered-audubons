{"ast":null,"code":"var _jsxFileName = \"/Users/akshatsharma/git/cse204/10-final-project-akshat_namit/endangeredaudubons/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { database } from './database.js';\nimport TopBar from './topbar/TopBar';\nimport About from './about/About';\nimport Birds from './birds/Birds';\nimport Conservation from './conservation/Conservation';\nimport \"./index.css\";\nimport './App.css';\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      birbs: []\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: props =>\n      /*#__PURE__*/\n      // <div className=\"test-triangle\"></div>\n      React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"page page--main\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(TopBar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"page__container page__container--mainpage\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"maintext\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }\n      }, \"Welcome to Endangered Audubons. The late John James Audubon became celebrated for his immaculate plein-aire drawings of native birds around the United States. Today, however, many of such bird species are threatened, endangered, or critically endangered. This archive showcases Audubon\\u2019s work of such bird species in the hopes of spreading awareness of these animals\\u2019 condition and appreciation of Audubon\\u2019s artwork.\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 21\n        }\n      }), \"Please peruse this site using the navigation.\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"titletext titletext--main\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }\n      }, \"Endangered\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 35\n        }\n      }), \" Audubons\"))))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/birds\",\n      render: routeProps => /*#__PURE__*/React.createElement(Birds, Object.assign({}, routeProps, {\n        birbs: this.state.birbs,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/conservation\",\n      component: Conservation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/about\",\n      component: About,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    }));\n  }\n\n  componentDidMount() {\n    fetch(\"https://ecos.fws.gov/ecp/pullreports/catalog/species/report/species/export?columns=@sid,cn,sn,status,desc;/species/life_history@desc&filter=/species@gn = 'Birds'&filter=/species@sid in (3232, 6174, 8230, 7614, 2083, 758)&filter=/species@status in ('Endangered', 'Threatened')\", {\n      method: 'get'\n    }).then(res => res.json()).then(res_json => {\n      let resData = res_json.data; // putting JSON data into more usable format\n\n      let birdData = resData.map(element => ({\n        id: element[0],\n        name: element[1].replace(/ *\\([^)]*\\) */g, \"\"),\n        plateNo: database[element[0]].plateNo,\n        taxName: element[2].value,\n        status: element[3],\n        endangered: element[4],\n        info: element[5]\n      })); // trying to identify which items in array are duplicates \n      // first sorting, then checking if next item in list has the \n      // same id -- if they do, then there is a duplicate\n\n      birdData.sort((birdA, birdB) => {\n        if (birdA.id < birdB.id) return -1;\n        if (birdA.id > birdB.id) return 1;\n        return 0;\n      });\n      let dupBirds = [];\n\n      for (let i = 0; i < birdData.length - 1; i++) {\n        const elem = birdData[i];\n        const nextElem = birdData[i + 1];\n\n        if (elem.id === nextElem.id) {\n          dupBirds.push(nextElem);\n        }\n      } // filtering all the duplicates out by using a set \n\n\n      let filteredData = Array.from(new Set(birdData.map(elem => elem.id))).map(id => birdData.find(bird => bird.id === id)); // for all the items with duplicates, concatenating their information through looping through the no duplicate and duplicate arrays. \n      // when ids match, concatenate status and endangered information with commas / semicolons etc\n\n      filteredData.forEach(filterElem => {\n        dupBirds.forEach(dupElem => {\n          if (filterElem.id === dupElem.id) {\n            filterElem.status += \", \" + dupElem.status;\n            filterElem.endangered += \"; \" + dupElem.endangered;\n          }\n        });\n      }); // finally set state with the retrieved and processed information \n\n      this.setState({\n        birbs: filteredData\n      });\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/akshatsharma/git/cse204/10-final-project-akshat_namit/endangeredaudubons/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","database","TopBar","About","Birds","Conservation","App","constructor","props","state","birbs","render","routeProps","componentDidMount","fetch","method","then","res","json","res_json","resData","data","birdData","map","element","id","name","replace","plateNo","taxName","value","status","endangered","info","sort","birdA","birdB","dupBirds","i","length","elem","nextElem","push","filteredData","Array","from","Set","find","bird","forEach","filterElem","dupElem","setState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {BrowserRouter as Router, Route} from 'react-router-dom'\nimport {database} from './database.js'\nimport TopBar from './topbar/TopBar'\nimport About from './about/About'\nimport Birds from './birds/Birds'\nimport Conservation from './conservation/Conservation'\nimport \"./index.css\"\nimport './App.css'\n\nexport default class App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      birbs: []\n    }\n  }\n\n\n  render() {\n    return (\n      <Router>\n          <Route exact path = \"/\" render = {props => (\n            // <div className=\"test-triangle\"></div>\n            <React.Fragment>\n              <div className = \"page page--main\">\n              <TopBar></TopBar>\n                <div className = \"page__container page__container--mainpage\">\n                  <div className = \"maintext\">\n                    <p>\n                    Welcome to Endangered Audubons. The late John James Audubon became celebrated for his immaculate plein-aire drawings of native birds around the United States. Today, however, many of such bird species are threatened, endangered, or critically endangered. This archive showcases Audubon’s work of such bird species in the hopes of spreading awareness of these animals’ condition and appreciation of Audubon’s artwork.\n                    <br></br>\n                    Please peruse this site using the navigation.\n                    </p>\n                  </div>\n                  <div className = \"titletext titletext--main\">\n                    <h1>Endangered<br></br> Audubons</h1>\n                  </div>\n                </div>\n            </div>\n            </React.Fragment>\n          )}/>\n          {/* <Route path = \"/birds\" component = {Birds}/> */}\n          <Route path = \"/birds\" render = {(routeProps) => (\n              <Birds {...routeProps} birbs = {this.state.birbs} ></Birds>\n          )}/>\n          <Route path = \"/conservation\" component = {Conservation}/>\n          <Route path = \"/about\" component = {About}/>\n      </Router>\n      \n    )\n  }\n\n  componentDidMount() {\n    fetch(\"https://ecos.fws.gov/ecp/pullreports/catalog/species/report/species/export?columns=@sid,cn,sn,status,desc;/species/life_history@desc&filter=/species@gn = 'Birds'&filter=/species@sid in (3232, 6174, 8230, 7614, 2083, 758)&filter=/species@status in ('Endangered', 'Threatened')\", {\n      method: 'get'\n    } ).then(res => (res.json())).then(res_json => {\n        let resData = res_json.data;\n\n        // putting JSON data into more usable format\n\n        let birdData = resData.map(element => (\n          {\n            id: element[0],\n            name: element[1].replace(/ *\\([^)]*\\) */g, \"\"),\n            plateNo: database[element[0]].plateNo,\n            taxName: element[2].value,\n            status: element[3],\n            endangered: element[4],\n            info: element[5]\n          }\n        ));\n        \n        // trying to identify which items in array are duplicates \n        // first sorting, then checking if next item in list has the \n        // same id -- if they do, then there is a duplicate\n        birdData.sort((birdA, birdB) => {\n          if (birdA.id < birdB.id) return -1;\n          if (birdA.id > birdB.id) return 1;\n          return 0;\n        })\n\n        let dupBirds = []\n\n        for (let i = 0; i < birdData.length-1; i++) {\n          const elem = birdData[i];\n          const nextElem = birdData[i+1]\n\n          if (elem.id === nextElem.id) {\n            dupBirds.push(nextElem);\n          }\n        }\n\n        // filtering all the duplicates out by using a set \n\n        let filteredData = Array.from(new Set(birdData.map(elem => elem.id))).map(id => birdData.find(bird => bird.id === id))\n\n        // for all the items with duplicates, concatenating their information through looping through the no duplicate and duplicate arrays. \n        \n        // when ids match, concatenate status and endangered information with commas / semicolons etc\n        filteredData.forEach(filterElem => {\n          dupBirds.forEach(dupElem => {\n              if (filterElem.id === dupElem.id) {\n                filterElem.status += \", \" + dupElem.status;\n                filterElem.endangered += \"; \" + dupElem.endangered;\n              }\n            });\n          })\n\n        // finally set state with the retrieved and processed information \n        this.setState({\n          birbs: filteredData\n        })\n      }\n    )\n\n  }\n}\n"]},"metadata":{},"sourceType":"module"}